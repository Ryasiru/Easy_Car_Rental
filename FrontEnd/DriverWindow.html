<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Title</title>
</head>
<body>

<!--Title-->
<div class="row">

    <div class="col-lg-12 " style="background-color: indigo">
        <p style="color: white;font-size: 40px">
            Easy Car Rental(Pvt)
        </p>

        <button style="position: absolute;right: 20px;top: 20px" type="button" class="btn btn-danger">Log Out</button>
    </div>


</div>

<!--Option-->
<div class="row" style="margin-top: 20px;margin-left: 10%">
    <div class="col">
        <button id="selection" style="width: 170px;height: 170px;font-size: 30px;text-align: center;border-radius: 10px" type="button" class="btn btn-primary">Driver Schedule</button>
    </div>
</div>


<!--Schedule-->
<div class="container" style="margin-top: 3%">
    <form>
        <label style="font-size: 30px;color: blue">Schedule</label>


        <div class="row" style="margin-top: 5%">
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">Booking Number</th>
                    <th scope="col">Reg No</th>
                    <th scope="col">From</th>
                    <th scope="col">To</th>
                    <th scope="col">Pickup Date</th>
                    <th scope="col">Dropoff Date</th>
                </tr>
                </thead>
                <tbody id="tblDriverSchedule">

                </tbody>
            </table>
        </div>
    </form>

</div>







<script src="Assests/jquery-3.5.1.min.js" ></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>


<script>

    var nic="123456789";

    window.open(
        $.ajax({
            type: "GET",
            url: "http://localhost:8080/easy/api/v1/bookingdetail/getdriverschedule",
            data: {"nic": nic},
            contentType: "application/json",
            success: function (resp) {
                var list = resp.data;
                for (var i in list) {
                    var row = `<tr><td>${list[i].mid}</td><td>${list[i].regno}</td><td>${list[i].start}</td><td>${list[i].end}</td><td>${list[i].pickup}</td><td>${list[i].dropoff}</td></tr>`;
                    $('#tblDriverSchedule').append(row);
                }
            }
        })
    );

</script>
</body>
</html>